<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projek Sederhana by juma</title>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="coverPage" class="full-page cover">
        <div class="overlay"></div>
        <div class="content-box" data-aos="zoom-in" data-aos-duration="1500">
            <p class="top-text">YOU ARE INVITED TO</p>
            <h1 class="main-title">Sweet Celebration</h1>
            <p class="celebrant-name">JUMA</p>
            <button id="openBtn" class="btn-primary">
                <i class="fas fa-envelope-open-text"></i> Buka Undangan
            </button>
        </div>
    </div>

    <div id="mainPage" class="full-page main hidden">
        <div class="overlay"></div>
        
        <audio id="bgMusic" loop>
            <source src="music.mp3" type="audio/mpeg">
        </audio>

        <div class="content-box">
            <h2 class="title-isi">Hello, <br>
                Temen temen</h2>
            
            <div class="photo-wrapper">
                <img src="foto1.jpeg" alt="Birthday Girl" class="profile-img">
            </div>

            <div class="words">
                <p>"hmmmm... bisa ga nih temenin aku hehe"</p>
                <p>coba kalian bisa komen aturin mau gimana</p>
                <P> ðŸ™ŒðŸ’« </P>
            </div>

            <div class="event-details">
                <div class="info-item">
                    <i class="far fa-calendar-alt"></i>
                    <p>Rabu, 31 Desember 2025</p>
                </div>
                <div class="info-item">
                    <i class="far fa-clock"></i>
                    <p>13.00 WIB - Selesai</p>
                </div>
                <div class="info-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <p>Mako Cake & Bakery, Serang</p>
                </div>
            </div>

            <hr class="divider">

<div class="comment-section">
    <p class="comment-title">bisa koment projek gabutku ini</p>
    <input type="text" id="guestName" placeholder="Nama Anda" class="input-field">
    <textarea id="guestMsg" placeholder="Tulis ucapan..." class="input-field" rows="3"></textarea>
    <button onclick="sendComment()" id="submitBtn" class="btn-primary">Kirim Ucapan</button>
</div>

<div id="commentDisplay" class="comment-display">
    <p style="text-align:center; font-size:0.8rem;">Memuat ucapan...</p>
</div>

<script>
    // GANTI DENGAN URL EXEC BARU KAMU
const scriptURL = 'https://script.google.com/macros/s/AKfycbxHPbUUzqliMZH4Q8yUqF577E3PWSSiVWAQ2gesH72X4f7Krtnr3g1J5G0jgWpsVm-v/exec';

// Fungsi memuat komentar (Teknik JSONP)
function loadComments() {
    const display = document.getElementById('commentDisplay');
    const script = document.createElement('script');
    
    // Kita buat fungsi callback global agar bisa ditangkap datanya
    window.handleData = function(data) {
        display.innerHTML = '';
        if (data.length === 0) {
            display.innerHTML = '<p style="text-align:center; font-size:0.8rem;">Belum ada ucapan.</p>';
            return;
        }
        data.reverse().forEach(row => {
            const div = document.createElement('div');
            div.className = 'single-comment';
            div.innerHTML = `<strong>${row[0]}</strong>: ${row[1]}`;
            display.appendChild(div);
        });
        document.body.removeChild(script); // Bersihkan sisa script
    };

    script.src = scriptURL + '?callback=handleData&t=' + new Date().getTime();
    document.body.appendChild(script);
}

// Fungsi mengirim komentar
function sendComment() {
    const name = document.getElementById('guestName').value;
    const msg = document.getElementById('guestMsg').value;
    const btn = document.getElementById('submitBtn');

    if(name && msg) {
        btn.disabled = true;
        btn.innerText = "Mengirim...";

        // Mengirim lewat elemen <img> atau fetch no-cors agar tidak terblokir
        fetch(`${scriptURL}?name=${encodeURIComponent(name)}&message=${encodeURIComponent(msg)}`, {
            method: 'POST',
            mode: 'no-cors'
        }).then(() => {
            alert('Ucapan terkirim!');
            btn.disabled = false;
            btn.innerText = "Kirim Ucapan";
            document.getElementById('guestName').value = '';
            document.getElementById('guestMsg').value = '';
            setTimeout(loadComments, 1500); // Muat ulang setelah 1.5 detik
        }).catch(() => {
            alert('Terjadi kesalahan, coba lagi.');
            btn.disabled = false;
        });
    } else {
        alert('Isi nama dan pesan ya!');
    }
}

document.addEventListener('DOMContentLoaded', loadComments);
</script>
            
            <p class="closing">Sampai jumpa di sana!</p>
        </div>
    </div>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init();
        
        const openBtn = document.getElementById('openBtn');
        const coverPage = document.getElementById('coverPage');
        const mainPage = document.getElementById('mainPage');
        const music = document.getElementById('bgMusic');

        openBtn.addEventListener('click', () => {
            coverPage.classList.add('slide-up'); // Efek transisi ke atas
            music.play();
            setTimeout(() => {
                coverPage.style.display = 'none';
                mainPage.classList.remove('hidden');
                AOS.refresh();
            }, 800);
        });
    </script>
</body>

</html>







